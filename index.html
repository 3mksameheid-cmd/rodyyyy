<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ÙØ§Ø¬Ø£Ø© Ù„Ø±ÙˆØ¯ÙŠÙ†Ø§ ğŸ’–</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        :root { --pink: #ff4d6d; --dark: #050505; }
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background: var(--dark); font-family: 'Cairo', sans-serif; color: white; }
        
        /* Ø´Ø§Ø´Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨ */
        #welcome-screen {
            position: fixed; inset: 0; background: var(--dark); z-index: 10000;
            display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center;
        }

        /* Ø´Ø§Ø´Ø© Ø§Ù„Ù‚ÙÙ„ */
        #lock-screen {
            position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 9999;
            display: none; flex-direction: column; justify-content: center; align-items: center;
        }

        .btn {
            padding: 15px 40px; background: var(--pink); border: none; border-radius: 50px;
            color: white; font-size: 1.2rem; cursor: pointer; margin-top: 20px; box-shadow: 0 0 20px var(--pink);
        }

        input {
            padding: 12px; border-radius: 25px; border: 2px solid var(--pink); outline: none;
            text-align: center; font-size: 1.2rem; background: #222; color: white; width: 250px;
        }

        /* Ø§Ù„Ù†Ø¬ÙˆÙ… ÙˆØ§Ù„Ù‚Ù„ÙˆØ¨ */
        #canvas { position: fixed; inset: 0; z-index: 1; }

        /* Ø§Ù„Ø¨Ø§Ù„ÙˆÙ†Ø© */
        #balloon {
            position: absolute; top: -200px; cursor: pointer; z-index: 100;
            display: none; transition: top 3s ease-in;
        }
        .balloon-body {
            width: 150px; height: 180px; background: var(--pink);
            border-radius: 50% 50% 50% 50% / 40% 40% 60% 60%;
            display: flex; justify-content: center; align-items: center;
            font-weight: bold; font-size: 1.5rem; box-shadow: inset -10px -10px 20px rgba(0,0,0,0.2);
        }

        /* Ø§Ù„Ø¸Ø±Ù ÙˆØ§Ù„ÙƒÙ„Ø§Ù… */
        #envelope {
            position: relative; z-index: 50; display: none; cursor: pointer;
            font-size: 100px; animation: bounce 2s infinite;
        }

        #letter {
            display: none; background: white; color: #333; padding: 30px;
            border-radius: 15px; width: 80%; max-width: 400px; text-align: center;
            box-shadow: 0 0 50px var(--pink); border: 4px double var(--pink);
            z-index: 60; position: relative;
        }

        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }
        #youtube-player { position: absolute; top: -999px; }
    </style>
</head>
<body>

    <div id="welcome-screen">
        <h1 style="font-size: 3rem;">Ø£Ù‡Ù„Ø§Ù‹ Ø¨ÙƒÙ ÙÙŠ Ø¹Ø§Ù„Ù…ÙŠ Ø§Ù„Ø®Ø§Øµ âœ¨</h1>
        <p>Ù…Ø³ØªØ¹Ø¯Ø© ØªØ´ÙˆÙÙŠ Ø§Ù„Ù…ÙØ§Ø¬Ø£Ø©ØŸ</p>
        <button class="btn" onclick="showLock()">Ø£ÙŠÙˆØ© Ù…Ø³ØªØ¹Ø¯Ø©!</button>
    </div>

    <div id="lock-screen">
        <h2>Ø§Ø¯Ø®Ù„ÙŠ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ù…ÙØ§Ø¬Ø£Ø©</h2>
        <input type="text" id="passInput" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ù‡ÙŠ..." oninput="checkPass()">
    </div>

    <div id="balloon" onclick="popBalloon()">
        <div class="balloon-body">Ø±ÙˆØ¯ÙŠÙ†Ø§</div>
        <div style="width:2px; height:100px; background:white; margin:auto;"></div>
    </div>

    <div id="envelope" onclick="openLetter()">ğŸ“©</div>

    <div id="letter">
        <h2 style="color:var(--pink)">Ø¥Ù„Ù‰ Ø£ØºÙ„Ù‰ Ø±ÙˆØ¯ÙŠÙ†Ø§ ÙÙŠ Ø§Ù„ÙƒÙˆÙ† â¤ï¸</h2>
        <p>
            Ø¨Ù…Ù†Ø§Ø³Ø¨Ø© Ø¹ÙŠØ¯ Ø§Ù„Ø­Ø¨ØŒ Ø­Ø¨ÙŠØª Ø£Ù‡Ø§Ø¯ÙŠÙƒÙ Ø¨Ø­Ø§Ø¬Ø© Ù…Ø®ØªÙ„ÙØ©.. 
            Ø£Ù†ØªÙ Ø§Ù„Ù†Ø¬Ù…Ø© Ø§Ù„Ù„ÙŠ Ø¨ØªÙ†ÙˆØ± Ø³Ù…Ø§ÙŠØ§ØŒ ÙˆØ§Ù„Ù‚Ù„Ø¨ Ø§Ù„Ù„ÙŠ Ø¨ÙŠØ­Ø³Ø³Ù†ÙŠ Ø¨Ø§Ù„Ø£Ù…Ø§Ù†.
            ÙƒÙ„ Ø«Ø§Ù†ÙŠØ© ÙˆØ£Ù†ØªÙ Ù…Ø¹Ø§ÙŠØ§ Ù‡ÙŠ Ø¹ÙŠØ¯.
        </p>
        <h3 style="color:var(--pink)">Ø¨Ø­Ø¨Ùƒ ÙŠØ§ Rodina</h3>
    </div>

    <div id="youtube-player"></div>
    <canvas id="canvas"></canvas>

    <script src="https://www.youtube.com/iframe_api"></script>
    <script>
        let player;
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('youtube-player', {
                height: '0', width: '0',
                videoId: 'sZ5v09Vvcww', // Ø£ØºÙ†ÙŠØ© Ø±Ø§Ù…ÙŠ ØµØ¨Ø±ÙŠ - Ø¨Ø­Ø¨Ùƒ
                events: { 'onReady': onPlayerReady }
            });
        }
        function onPlayerReady(event) { event.target.setVolume(100); }

        function showLock() {
            document.getElementById('welcome-screen').style.display = 'none';
            document.getElementById('lock-screen').style.display = 'flex';
        }

        function checkPass() {
            let val = document.getElementById('passInput').value.toLowerCase();
            if (val === 'rodina' || val === 'Ø±ÙˆØ¯ÙŠÙ†Ø§') {
                document.getElementById('lock-screen').style.display = 'none';
                startMagic();
                if(player) player.playVideo();
            }
        }

        function startMagic() {
            const b = document.getElementById('balloon');
            b.style.display = 'block';
            setTimeout(() => { b.style.top = '20%'; }, 100);
        }

        function popBalloon() {
            document.getElementById('balloon').style.display = 'none';
            confetti({ particleCount: 200, spread: 70, origin: { y: 0.3 } });
            // Ø¸Ù‡ÙˆØ± Ø§Ù„Ø¸Ø±Ù
            setTimeout(() => {
                const env = document.getElementById('envelope');
                env.style.display = 'block';
            }, 500);
        }

        function openLetter() {
            document.getElementById('envelope').style.display = 'none';
            // Ø§Ù†ÙØ¬Ø§Ø±Ø§Øª Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„Ø¸Ø±Ù
            var duration = 3 * 1000;
            var end = Date.now() + duration;
            (function frame() {
                confetti({ particleCount: 5, angle: 60, spread: 55, origin: { x: 0 } });
                confetti({ particleCount: 5, angle: 120, spread: 55, origin: { x: 1 } });
                if (Date.now() < end) { requestAnimationFrame(frame); }
            }());
            document.getElementById('letter').style.display = 'block';
        }

        // ÙƒÙˆØ¯ Ø§Ù„Ù†Ø¬ÙˆÙ… ÙˆØ§Ù„Ù‚Ù„ÙˆØ¨ Ø§Ù„Ø®Ù„ÙÙŠØ©
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        let particles = [];
        class Particle {
            constructor() { this.reset(); }
            reset() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * -canvas.height;
                this.size = Math.random() * 3 + 1;
                this.speed = Math.random() * 2 + 0.5;
                this.type = Math.random() > 0.5 ? 'star' : 'heart';
            }
            update() { this.y += this.speed; if (this.y > canvas.height) this.reset(); }
            draw() {
                ctx.fillStyle = this.type === 'star' ? 'white' : '#ff4d6d';
                if (this.type === 'star') {
                    ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI*2); ctx.fill();
                } else {
                    ctx.font = '15px Arial'; ctx.fillText('â¤ï¸', this.x, this.y);
                }
            }
        }
        for(let i=0; i<100; i++) particles.push(new Particle());
        function animate() {
            ctx.fillStyle = 'rgba(5, 5, 5, 0.2)'; ctx.fillRect(0,0,canvas.width, canvas.height);
            particles.forEach(p => { p.update(); p.draw(); });
            requestAnimationFrame(animate);
        }
        animate();
    </script>
</body>
</html>
